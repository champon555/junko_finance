# 部費申請・承認管理システム (Finance Approval System)

文系大学の部活動やサークル向けに開発された、スプレッドシート連動型の承認管理ツールです。
「ITに詳しくない人でも、URLをタップするだけでスマホから承認できる」ことを目的に作成されています。
## 開発について
このシステムは、**Google Gemini (生成AI)** との対話を通じて開発されました。
プログラミングの専門知識がない状態から、AIによるコード生成、デバッグ、サーバー構築、および組織ポリシーのトラブルシューティングのサポートを受けて完成したプロジェクトです。

---

##  利用者向け（部員・役員）の使い方
1. 共有された **アプリURL**（`https://xxx.streamlit.app`）をブラウザで開きます。
2. 承認待ちの申請一覧がカード形式で表示されます。
3. 内容を確認し、承認する場合は **「承認ボタン」** を押してください。
4. スプレッドシートの「承認ステータス」が自動的に更新されます。

---

##  管理者・引き継ぎ用ガイド

### 1. 動作環境
- **言語**: Python 3.x
- **フレームワーク**: Streamlit (Web UI)
- **データベース**: SQLite (ローカルキャッシュ用)
- **外部連携**: Google Sheets API (サービスアカウント方式)

### 2. 認証設定 (Google Cloud)
本システムは「サービスアカウント」を使用してGoogleスプレッドシートを操作します。
- **スプレッドシートの共有**: 
  サービスアカウントのメールアドレス（`xxx@xxx.iam.gserviceaccount.com`）を、対象のスプレッドシートに **「編集者」** として招待する必要があります。
- **組織ポリシー**: 
  Google Workspaceを使用している場合、`iam.disableServiceAccountKeyCreation` 等のポリシーを解除しないと鍵（JSON）が作成できない場合があります。

### 3. デプロイ設定 (Streamlit Cloud)
GitHubにソースコードをアップロードした後、Streamlitの管理画面にて以下の設定を行ってください。
- **Secretsの設定**: 
  `Advanced settings > Secrets` に、ダウンロードしたJSON鍵の内容を `google_auth` という名前で保存してください。

```toml
google_auth = '''
{
  "type": "service_account",
  "project_id": "...",
  ... (JSONの中身を丸ごと貼り付け)
}
'''
